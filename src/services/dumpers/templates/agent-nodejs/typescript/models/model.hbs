import Mongoose from 'mongoose';

interface {{capitalise collectionName}}Interface {
{{#each fields as |field|}}
  {{wsc field.name}}: {{#if (isObject field.type)}}{{>renderNestedInterface type=field.type level=1}}{{else}}{{toInterfaceType field.type}}{{/if}};
{{/each}}
}

const {{collectionName}}Schema = new Mongoose.Schema({
{{#each fields as |field|}}
  {{wsc field.name}}: {{#if field.ref}}{ type: {{field.type}}, ref: '{{field.ref}}' }{{else if (isObject field.type)}}{{>renderNested type=field.type level=1}}{{else}}{{field.type}}{{/if}},
{{/each}}
}, {
  timestamps: {{timestamps}},
});

export { {{capitalise collectionName}}Interface, {{collectionName}}Schema };
